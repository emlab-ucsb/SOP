<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>4.7 Accessing code | emLab Standard Operating Procedures</title>
  <meta name="description" content="Standard operating procedures for emLab projects" />
  <meta name="generator" content="bookdown 0.39 and GitBook 2.6.7" />

  <meta property="og:title" content="4.7 Accessing code | emLab Standard Operating Procedures" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="Standard operating procedures for emLab projects" />
  <meta name="github-repo" content="emlab-ucsb/SOP" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="4.7 Accessing code | emLab Standard Operating Procedures" />
  
  <meta name="twitter:description" content="Standard operating procedures for emLab projects" />
  

<meta name="author" content="Environmental Markets Lab (emLab)" />


<meta name="date" content="2024-05-06" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  <link rel="shortcut icon" href="favicon.png" type="image/x-icon" />
<link rel="prev" href="4.6-accessing-data.html"/>
<link rel="next" href="4.8-using-htop-to-monitor-shared-resources.html"/>
<script src="assets/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="assets/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="assets/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="assets/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="assets/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="assets/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="assets/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="assets/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="assets/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="assets/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="assets/anchor-sections-1.1.0/anchor-sections.js"></script>



<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>

</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Overview</a></li>
<li class="chapter" data-level="1" data-path="1-file-structure.html"><a href="1-file-structure.html"><i class="fa fa-check"></i><b>1</b> File Structure</a>
<ul>
<li class="chapter" data-level="1.1" data-path="1.1-folder-naming.html"><a href="1.1-folder-naming.html"><i class="fa fa-check"></i><b>1.1</b> Folder Naming</a></li>
<li class="chapter" data-level="1.2" data-path="1.2-google-shared-drive.html"><a href="1.2-google-shared-drive.html"><i class="fa fa-check"></i><b>1.2</b> Google Shared Drive</a>
<ul>
<li class="chapter" data-level="1.2.1" data-path="1.2-google-shared-drive.html"><a href="1.2-google-shared-drive.html#general-structure"><i class="fa fa-check"></i><b>1.2.1</b> General Structure</a></li>
<li class="chapter" data-level="1.2.2" data-path="1.2-google-shared-drive.html"><a href="1.2-google-shared-drive.html#project-folder-structure"><i class="fa fa-check"></i><b>1.2.2</b> Project Folder Structure</a></li>
</ul></li>
<li class="chapter" data-level="1.3" data-path="1.3-grit-data-storage-space.html"><a href="1.3-grit-data-storage-space.html"><i class="fa fa-check"></i><b>1.3</b> GRIT data storage space</a>
<ul>
<li class="chapter" data-level="1.3.1" data-path="1.3-grit-data-storage-space.html"><a href="1.3-grit-data-storage-space.html#general-structure-1"><i class="fa fa-check"></i><b>1.3.1</b> General Structure</a></li>
<li class="chapter" data-level="1.3.2" data-path="1.3-grit-data-storage-space.html"><a href="1.3-grit-data-storage-space.html#project-folder-structure-1"><i class="fa fa-check"></i><b>1.3.2</b> Project Folder Structure</a></li>
<li class="chapter" data-level="1.3.3" data-path="1.3-grit-data-storage-space.html"><a href="1.3-grit-data-storage-space.html#data-directories"><i class="fa fa-check"></i><b>1.3.3</b> Data Directories</a></li>
</ul></li>
<li class="chapter" data-level="1.4" data-path="1.4-github-structure.html"><a href="1.4-github-structure.html"><i class="fa fa-check"></i><b>1.4</b> GitHub Structure</a>
<ul>
<li class="chapter" data-level="1.4.1" data-path="1.4-github-structure.html"><a href="1.4-github-structure.html#project-repository-structure"><i class="fa fa-check"></i><b>1.4.1</b> Project Repository Structure</a></li>
<li class="chapter" data-level="1.4.2" data-path="1.4-github-structure.html"><a href="1.4-github-structure.html#a-repo-inside-a-repo"><i class="fa fa-check"></i><b>1.4.2</b> A repo inside a repo</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="2-data.html"><a href="2-data.html"><i class="fa fa-check"></i><b>2</b> Data</a>
<ul>
<li class="chapter" data-level="2.1" data-path="2.1-data-file-naming.html"><a href="2.1-data-file-naming.html"><i class="fa fa-check"></i><b>2.1</b> Data File Naming</a></li>
<li class="chapter" data-level="2.2" data-path="2.2-metadata.html"><a href="2.2-metadata.html"><i class="fa fa-check"></i><b>2.2</b> Metadata</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="2.2-metadata.html"><a href="2.2-metadata.html#metadata-standards"><i class="fa fa-check"></i><b>2.2.1</b> Metadata Standards</a></li>
<li class="chapter" data-level="2.2.2" data-path="2.2-metadata.html"><a href="2.2-metadata.html#emlab-data-directory"><i class="fa fa-check"></i><b>2.2.2</b> emLab common data directory</a></li>
<li class="chapter" data-level="2.2.3" data-path="2.2-metadata.html"><a href="2.2-metadata.html#project-data-directory"><i class="fa fa-check"></i><b>2.2.3</b> Project-specific data directories</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="2.3-accessing-emlab-data-in-r.html"><a href="2.3-accessing-emlab-data-in-r.html"><i class="fa fa-check"></i><b>2.3</b> Accessing emLab data in R</a></li>
<li class="chapter" data-level="2.4" data-path="2.4-tidy-data.html"><a href="2.4-tidy-data.html"><i class="fa fa-check"></i><b>2.4</b> Tidy Data</a>
<ul>
<li class="chapter" data-level="2.4.1" data-path="2.4-tidy-data.html"><a href="2.4-tidy-data.html#recommended-resources"><i class="fa fa-check"></i><b>2.4.1</b> Recommended Resources</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="2.5-data-formats.html"><a href="2.5-data-formats.html"><i class="fa fa-check"></i><b>2.5</b> Data Formats</a></li>
<li class="chapter" data-level="2.6" data-path="2.6-data-use-agreements-and-confidential-data.html"><a href="2.6-data-use-agreements-and-confidential-data.html"><i class="fa fa-check"></i><b>2.6</b> Data Use Agreements and Confidential Data</a>
<ul>
<li class="chapter" data-level="2.6.1" data-path="2.6-data-use-agreements-and-confidential-data.html"><a href="2.6-data-use-agreements-and-confidential-data.html#the-process-for-establishing-a-data-use-agreement-or-non-disclosure-agreement"><i class="fa fa-check"></i><b>2.6.1</b> The process for establishing a Data Use Agreement or Non-Disclosure Agreement</a></li>
<li class="chapter" data-level="2.6.2" data-path="2.6-data-use-agreements-and-confidential-data.html"><a href="2.6-data-use-agreements-and-confidential-data.html#data-storage-options"><i class="fa fa-check"></i><b>2.6.2</b> Data storage options</a></li>
<li class="chapter" data-level="2.6.3" data-path="2.6-data-use-agreements-and-confidential-data.html"><a href="2.6-data-use-agreements-and-confidential-data.html#other-best-practices"><i class="fa fa-check"></i><b>2.6.3</b> Other best practices</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="3-code.html"><a href="3-code.html"><i class="fa fa-check"></i><b>3</b> Code</a>
<ul>
<li class="chapter" data-level="3.1" data-path="3.1-scripts-and-version-control.html"><a href="3.1-scripts-and-version-control.html"><i class="fa fa-check"></i><b>3.1</b> Scripts and Version Control</a></li>
<li class="chapter" data-level="3.2" data-path="3.2-style-guide.html"><a href="3.2-style-guide.html"><i class="fa fa-check"></i><b>3.2</b> Style Guide</a></li>
<li class="chapter" data-level="3.3" data-path="3.3-reproducibility.html"><a href="3.3-reproducibility.html"><i class="fa fa-check"></i><b>3.3</b> Reproducibility</a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="3.3-reproducibility.html"><a href="3.3-reproducibility.html#package-dependencies"><i class="fa fa-check"></i><b>3.3.1</b> Package dependencies</a></li>
<li class="chapter" data-level="3.3.2" data-path="3.3-reproducibility.html"><a href="3.3-reproducibility.html#coding-pipelines"><i class="fa fa-check"></i><b>3.3.2</b> Coding pipelines</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="3.4-internal-code-review.html"><a href="3.4-internal-code-review.html"><i class="fa fa-check"></i><b>3.4</b> Internal code review</a></li>
<li class="chapter" data-level="3.5" data-path="3.5-exploratory-data-analysis.html"><a href="3.5-exploratory-data-analysis.html"><i class="fa fa-check"></i><b>3.5</b> Exploratory Data Analysis</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="4-high-performance-computing.html"><a href="4-high-performance-computing.html"><i class="fa fa-check"></i><b>4</b> High Performance Computing</a>
<ul>
<li class="chapter" data-level="4.1" data-path="4.1-available-resources.html"><a href="4.1-available-resources.html"><i class="fa fa-check"></i><b>4.1</b> Available resources</a></li>
<li class="chapter" data-level="4.2" data-path="4.2-available-software.html"><a href="4.2-available-software.html"><i class="fa fa-check"></i><b>4.2</b> Available software</a></li>
<li class="chapter" data-level="4.3" data-path="4.3-installing-packages.html"><a href="4.3-installing-packages.html"><i class="fa fa-check"></i><b>4.3</b> Installing packages</a></li>
<li class="chapter" data-level="4.4" data-path="4.4-setting-up-a-grit-account.html"><a href="4.4-setting-up-a-grit-account.html"><i class="fa fa-check"></i><b>4.4</b> Setting up a GRIT account</a></li>
<li class="chapter" data-level="4.5" data-path="4.5-logging-in.html"><a href="4.5-logging-in.html"><i class="fa fa-check"></i><b>4.5</b> Logging in</a></li>
<li class="chapter" data-level="4.6" data-path="4.6-accessing-data.html"><a href="4.6-accessing-data.html"><i class="fa fa-check"></i><b>4.6</b> Accessing data</a></li>
<li class="chapter" data-level="4.7" data-path="4.7-accessing-code.html"><a href="4.7-accessing-code.html"><i class="fa fa-check"></i><b>4.7</b> Accessing code</a></li>
<li class="chapter" data-level="4.8" data-path="4.8-using-htop-to-monitor-shared-resources.html"><a href="4.8-using-htop-to-monitor-shared-resources.html"><i class="fa fa-check"></i><b>4.8</b> Using htop to monitor shared resources</a></li>
<li class="chapter" data-level="4.9" data-path="4.9-best-practices-for-sharing-our-computational-resources.html"><a href="4.9-best-practices-for-sharing-our-computational-resources.html"><i class="fa fa-check"></i><b>4.9</b> Best practices for sharing our computational resources</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="5-reports-and-publications.html"><a href="5-reports-and-publications.html"><i class="fa fa-check"></i><b>5</b> Reports and Publications</a>
<ul>
<li class="chapter" data-level="5.1" data-path="5.1-emlab-affiliation.html"><a href="5.1-emlab-affiliation.html"><i class="fa fa-check"></i><b>5.1</b> emLab Affiliation</a></li>
<li class="chapter" data-level="5.2" data-path="5.2-reports.html"><a href="5.2-reports.html"><i class="fa fa-check"></i><b>5.2</b> Reports</a></li>
<li class="chapter" data-level="5.3" data-path="5.3-author-contribution.html"><a href="5.3-author-contribution.html"><i class="fa fa-check"></i><b>5.3</b> Author Contribution</a></li>
<li class="chapter" data-level="5.4" data-path="5.4-making-your-data-publicly-available.html"><a href="5.4-making-your-data-publicly-available.html"><i class="fa fa-check"></i><b>5.4</b> Making Your Data Publicly Available</a></li>
<li class="chapter" data-level="5.5" data-path="5.5-preparing-a-public-github-repository.html"><a href="5.5-preparing-a-public-github-repository.html"><i class="fa fa-check"></i><b>5.5</b> Preparing a Public GitHub Repository</a>
<ul>
<li class="chapter" data-level="5.5.1" data-path="5.5-preparing-a-public-github-repository.html"><a href="5.5-preparing-a-public-github-repository.html#documentation"><i class="fa fa-check"></i><b>5.5.1</b> Documentation</a></li>
<li class="chapter" data-level="5.5.2" data-path="5.5-preparing-a-public-github-repository.html"><a href="5.5-preparing-a-public-github-repository.html#sanitizing-the-repository"><i class="fa fa-check"></i><b>5.5.2</b> Sanitizing the repository</a></li>
</ul></li>
<li class="chapter" data-level="5.6" data-path="5.6-sharing-public-data-shiny-apps-and-tools-on-our-website.html"><a href="5.6-sharing-public-data-shiny-apps-and-tools-on-our-website.html"><i class="fa fa-check"></i><b>5.6</b> Sharing public data, Shiny apps, and tools on our website</a></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">emLab Standard Operating Procedures</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="accessing-code" class="section level2 hasAnchor" number="4.7">
<h2><span class="header-section-number">4.7</span> Accessing code<a href="4.7-accessing-code.html#accessing-code" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Here we can talk about how to use the servers with GitHub code
management. Essentially, you can work with projects and GitHub
repositories on RStudio Server exactly like you can on your personal
machine. One major difference is how to set up GitHub authentication,
which is a little different on the servers than it would be on your
personal machine. So we can provide explicit instructions on doing that.</p>
<p>Please refer to <a href="https://emlab-ucsb.github.io/emlab-manual/emlab-workflow-and-platforms.html#git-and-github">this
section</a>
of the emLab SOP for directions on how to set up and manage git and
GitHub for your new server workspace. One important difference between
your personal laptop and using a server is that file permissions may be
such that other users can see and sometimes read or write files in your
directories. Ideally, any confidential information such as your git
credentials should be secured differently from your personal computer.
Step 6 of the Git and Github section of the emLab manual is therefore
not recommended in a multi-user server environment because your token
may end up viewable to other users as plain text. <br />
</p>
<p>Instead of storing your Personal Authentication Token (PAT) as plain
text, it is recommended to use one of the following options. Using
either of these two approaches will also mean that credentials are
stored between sessions, which should make the user experience a bit
easier. The first approach, using an SSH key, is recommended</p>
<ol style="list-style-type: decimal">
<li><p>Use an SSH key instead of a PAT</p>
<ol style="list-style-type: decimal">
<li><p>Set up your SSH key on the GRIT server.</p>
<ol style="list-style-type: decimal">
<li><p>If you are not using R Studio Server, or prefer to use the
terminal, follow these instructions: </p>
<ol style="list-style-type: decimal">
<li><p>You can generate a new SSH key with the terminal command</p>
<ol style="list-style-type: decimal">
<li>ssh-keygen -t ed25519 -C “email@example.com”</li>
</ol></li>
<li><p>You are prompted to select a location (hit enter for the
default location)</p></li>
<li><p>You are prompted to set a password (hit enter to not
require one)</p></li>
<li><p>Start your SSH agent in the background with </p>
<ol style="list-style-type: decimal">
<li>eval “$(ssh-agent -s)”</li>
</ol></li>
<li><p>Add your private key to the SSH agent with</p>
<ol style="list-style-type: decimal">
<li>ssh-add ~/.ssh/id_ed25519</li>
</ol></li>
<li><p>Copy your public key with </p>
<ol style="list-style-type: decimal">
<li>cat ~/.ssh/id_rsa.pub | xclip -selection clipboard</li>
</ol></li>
</ol></li>
<li><p>If you are using R Studio Server and you prefer to not use
the terminal approach, the instructions are a bit more
streamlined. Follow the instructions in this
<a href="https://happygitwithr.com/ssh-keys#option-1-set-up-from-rstudio">link</a>.  </p>
<ol style="list-style-type: decimal">
<li>If after going through these instructions you prefer to
not use a password, you can remove it using the
instructions provided in this
<a href="https://docs.github.com/en/authentication/connecting-to-github-with-ssh/working-with-ssh-key-passphrases#adding-or-changing-a-passphrase">link</a>.</li>
</ol></li>
</ol></li>
<li><p>Add your public key to your GitHub account</p>
<ol style="list-style-type: decimal">
<li><p>GitHub &gt; Settings &gt; SSH and GPG keys &gt; New SSH key</p></li>
<li><p>Paste in your key (either from Step 6 in the terminal option
above, or copied from R Studio Server in the R Studio option
above)</p></li>
</ol></li>
<li><p>Now you can clone your repository onto the GRIT server. This
means that you need to either: 1) when cloning the repository
for the first time you need to use the SSH url rather than the
HTTPS url; or 2) if you’ve already clone the repository, set
your repository URL to the SSH version</p>
<ol style="list-style-type: decimal">
<li><p>If cloning a repo for the first time using R Studio Server,
you can simply click “File &gt; New Project &gt; Version Control
&gt; Git”, and then enter your repo’s SSH link</p>
<ol style="list-style-type: decimal">
<li><a href="mailto:git@github.com">git@github.com</a>:username/example_repo.git
(for example, this might look like
git@github.com:emlab-ucsb/ocean-ghg.git)</li>
</ol></li>
<li><p>Alternatively, in the terminal You can manually set specific
repo URLs to SSH with: </p>
<ol style="list-style-type: decimal">
<li>git remote set-url origin
<a href="mailto:git@github.com">git@github.com</a>:username/example_repo.git
(for example, this might look like
git@github.com:emlab-ucsb/ocean-ghg.git)</li>
</ol></li>
</ol></li>
</ol></li>
<li><p>Caching your PAT temporarily </p>
<ol style="list-style-type: decimal">
<li><p>Create a PAT on GitHub</p></li>
<li><p>Add credential cache timeout instructions to your git config
file</p>
<ol style="list-style-type: decimal">
<li><p>git config –global credential.helper ‘cache –timeout=3600’</p></li>
<li><p>Adjust the timeout length (in seconds) as needed </p></li>
</ol></li>
<li><p>Push changes to GitHub</p>
<ol style="list-style-type: decimal">
<li><p>When prompted enter your username </p></li>
<li><p>For the password enter your PAT</p>
<ol style="list-style-type: decimal">
<li>Future pushes will not not require you to enter
credentials within the timeout window</li>
</ol></li>
</ol></li>
<li><p>This is not a good long term solution because you will need to
re-enter your credentials anytime the server restarts or when
your cache timeout ends</p></li>
</ol></li>
</ol>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="4.6-accessing-data.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="4.8-using-htop-to-monitor-shared-resources.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="assets/gitbook-2.6.7/js/app.min.js"></script>
<script src="assets/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="assets/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="assets/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="assets/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="assets/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="assets/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="assets/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": null,
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection",
"scroll_highlight": true
},
"toolbar": {
"position": "static"
}
});
});
</script>

</body>

</html>
