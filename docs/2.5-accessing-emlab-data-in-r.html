<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>2.5 Accessing emLab data in R | emLab Standard Operating Procedures</title>
  <meta name="description" content="Standard operating procedures for emLab projects" />
  <meta name="generator" content="bookdown 0.33 and GitBook 2.6.7" />

  <meta property="og:title" content="2.5 Accessing emLab data in R | emLab Standard Operating Procedures" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="Standard operating procedures for emLab projects" />
  <meta name="github-repo" content="emlab-ucsb/SOP" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="2.5 Accessing emLab data in R | emLab Standard Operating Procedures" />
  
  <meta name="twitter:description" content="Standard operating procedures for emLab projects" />
  

<meta name="author" content="Environmental Markets Lab (emLab)" />


<meta name="date" content="2024-03-07" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  <link rel="shortcut icon" href="favicon.png" type="image/x-icon" />
<link rel="prev" href="2.4-project-data-directory.html"/>
<link rel="next" href="2.6-tidy-data.html"/>
<script src="assets/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="assets/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="assets/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="assets/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="assets/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="assets/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="assets/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="assets/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="assets/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="assets/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="assets/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Overview</a></li>
<li class="chapter" data-level="1" data-path="1-file-structure.html"><a href="1-file-structure.html"><i class="fa fa-check"></i><b>1</b> File Structure</a>
<ul>
<li class="chapter" data-level="1.1" data-path="1.1-folder-naming.html"><a href="1.1-folder-naming.html"><i class="fa fa-check"></i><b>1.1</b> Folder Naming</a></li>
<li class="chapter" data-level="1.2" data-path="1.2-google-shared-drive.html"><a href="1.2-google-shared-drive.html"><i class="fa fa-check"></i><b>1.2</b> Google Shared Drive</a>
<ul>
<li class="chapter" data-level="1.2.1" data-path="1.2-google-shared-drive.html"><a href="1.2-google-shared-drive.html#general-structure"><i class="fa fa-check"></i><b>1.2.1</b> General Structure</a></li>
</ul></li>
<li class="chapter" data-level="1.3" data-path="1.3-grit-data-storage-space.html"><a href="1.3-grit-data-storage-space.html"><i class="fa fa-check"></i><b>1.3</b> GRIT data storage space</a>
<ul>
<li class="chapter" data-level="1.3.1" data-path="1.3-grit-data-storage-space.html"><a href="1.3-grit-data-storage-space.html#general-structure-1"><i class="fa fa-check"></i><b>1.3.1</b> General Structure</a></li>
<li class="chapter" data-level="1.3.2" data-path="1.3-grit-data-storage-space.html"><a href="1.3-grit-data-storage-space.html#project-folder-structure"><i class="fa fa-check"></i><b>1.3.2</b> Project Folder Structure</a></li>
<li class="chapter" data-level="1.3.3" data-path="1.3-grit-data-storage-space.html"><a href="1.3-grit-data-storage-space.html#data-storage"><i class="fa fa-check"></i><b>1.3.3</b> Data Storage</a></li>
</ul></li>
<li class="chapter" data-level="1.4" data-path="1.4-github-structure.html"><a href="1.4-github-structure.html"><i class="fa fa-check"></i><b>1.4</b> GitHub Structure</a>
<ul>
<li class="chapter" data-level="1.4.1" data-path="1.4-github-structure.html"><a href="1.4-github-structure.html#project-repository-structure"><i class="fa fa-check"></i><b>1.4.1</b> Project Repository Structure</a></li>
<li class="chapter" data-level="1.4.2" data-path="1.4-github-structure.html"><a href="1.4-github-structure.html#a-repo-inside-a-repo"><i class="fa fa-check"></i><b>1.4.2</b> A repo inside a repo</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="2-data.html"><a href="2-data.html"><i class="fa fa-check"></i><b>2</b> Data</a>
<ul>
<li class="chapter" data-level="2.1" data-path="2.1-data-file-naming.html"><a href="2.1-data-file-naming.html"><i class="fa fa-check"></i><b>2.1</b> Data File Naming</a></li>
<li class="chapter" data-level="2.2" data-path="2.2-metadata.html"><a href="2.2-metadata.html"><i class="fa fa-check"></i><b>2.2</b> Metadata</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="2.2-metadata.html"><a href="2.2-metadata.html#metadata-standards"><i class="fa fa-check"></i><b>2.2.1</b> Metadata Standards</a></li>
<li class="chapter" data-level="2.2.2" data-path="2.2-metadata.html"><a href="2.2-metadata.html#where-to-store-metadata"><i class="fa fa-check"></i><b>2.2.2</b> Where to Store Metadata</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="2.3-emlab-data-directory.html"><a href="2.3-emlab-data-directory.html"><i class="fa fa-check"></i><b>2.3</b> emLab common data directory</a></li>
<li class="chapter" data-level="2.4" data-path="2.4-project-data-directory.html"><a href="2.4-project-data-directory.html"><i class="fa fa-check"></i><b>2.4</b> Project-specific data directories</a></li>
<li class="chapter" data-level="2.5" data-path="2.5-accessing-emlab-data-in-r.html"><a href="2.5-accessing-emlab-data-in-r.html"><i class="fa fa-check"></i><b>2.5</b> Accessing emLab data in R</a></li>
<li class="chapter" data-level="2.6" data-path="2.6-tidy-data.html"><a href="2.6-tidy-data.html"><i class="fa fa-check"></i><b>2.6</b> Tidy Data</a>
<ul>
<li class="chapter" data-level="2.6.1" data-path="2.6-tidy-data.html"><a href="2.6-tidy-data.html#recommended-resources"><i class="fa fa-check"></i><b>2.6.1</b> Recommended Resources</a></li>
</ul></li>
<li class="chapter" data-level="2.7" data-path="2.7-data-formats.html"><a href="2.7-data-formats.html"><i class="fa fa-check"></i><b>2.7</b> Data Formats</a></li>
<li class="chapter" data-level="2.8" data-path="2.8-data-use-agreements-and-confidential-data.html"><a href="2.8-data-use-agreements-and-confidential-data.html"><i class="fa fa-check"></i><b>2.8</b> Data Use Agreements and Confidential Data</a>
<ul>
<li class="chapter" data-level="2.8.1" data-path="2.8-data-use-agreements-and-confidential-data.html"><a href="2.8-data-use-agreements-and-confidential-data.html#the-process-for-establishing-a-data-use-agreement-or-non-disclosure-agreement"><i class="fa fa-check"></i><b>2.8.1</b> The process for establishing a Data Use Agreement or Non-Disclosure Agreement</a></li>
<li class="chapter" data-level="2.8.2" data-path="2.8-data-use-agreements-and-confidential-data.html"><a href="2.8-data-use-agreements-and-confidential-data.html#data-storage-options"><i class="fa fa-check"></i><b>2.8.2</b> Data storage options</a></li>
<li class="chapter" data-level="2.8.3" data-path="2.8-data-use-agreements-and-confidential-data.html"><a href="2.8-data-use-agreements-and-confidential-data.html#other-best-practices"><i class="fa fa-check"></i><b>2.8.3</b> Other best practices</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="3-code.html"><a href="3-code.html"><i class="fa fa-check"></i><b>3</b> Code</a>
<ul>
<li class="chapter" data-level="3.1" data-path="3.1-scripts-and-version-control.html"><a href="3.1-scripts-and-version-control.html"><i class="fa fa-check"></i><b>3.1</b> Scripts and Version Control</a></li>
<li class="chapter" data-level="3.2" data-path="3.2-style-guide.html"><a href="3.2-style-guide.html"><i class="fa fa-check"></i><b>3.2</b> Style Guide</a></li>
<li class="chapter" data-level="3.3" data-path="3.3-reproducibility.html"><a href="3.3-reproducibility.html"><i class="fa fa-check"></i><b>3.3</b> Reproducibility</a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="3.3-reproducibility.html"><a href="3.3-reproducibility.html#package-dependencies"><i class="fa fa-check"></i><b>3.3.1</b> Package dependencies</a></li>
<li class="chapter" data-level="3.3.2" data-path="3.3-reproducibility.html"><a href="3.3-reproducibility.html#coding-pipelines"><i class="fa fa-check"></i><b>3.3.2</b> Coding pipelines</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="3.4-internal-code-review.html"><a href="3.4-internal-code-review.html"><i class="fa fa-check"></i><b>3.4</b> Internal code review</a></li>
<li class="chapter" data-level="3.5" data-path="3.5-exploratory-data-analysis.html"><a href="3.5-exploratory-data-analysis.html"><i class="fa fa-check"></i><b>3.5</b> Exploratory Data Analysis</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="4-high-performance-computing.html"><a href="4-high-performance-computing.html"><i class="fa fa-check"></i><b>4</b> High Performance Computing</a>
<ul>
<li class="chapter" data-level="4.1" data-path="4.1-google-cloud-platform.html"><a href="4.1-google-cloud-platform.html"><i class="fa fa-check"></i><b>4.1</b> Google Cloud Platform</a>
<ul>
<li class="chapter" data-level="4.1.1" data-path="4.1-google-cloud-platform.html"><a href="4.1-google-cloud-platform.html#connecting-to-emlabs-shared-drive"><i class="fa fa-check"></i><b>4.1.1</b> Connecting to emLab’s Shared Drive</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="4.2-ucsb-server-clusters.html"><a href="4.2-ucsb-server-clusters.html"><i class="fa fa-check"></i><b>4.2</b> UCSB Server Clusters</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="5-reports-and-publications.html"><a href="5-reports-and-publications.html"><i class="fa fa-check"></i><b>5</b> Reports and Publications</a>
<ul>
<li class="chapter" data-level="5.1" data-path="5.1-emlab-affiliation.html"><a href="5.1-emlab-affiliation.html"><i class="fa fa-check"></i><b>5.1</b> emLab Affiliation</a></li>
<li class="chapter" data-level="5.2" data-path="5.2-reports.html"><a href="5.2-reports.html"><i class="fa fa-check"></i><b>5.2</b> Reports</a></li>
<li class="chapter" data-level="5.3" data-path="5.3-author-contribution.html"><a href="5.3-author-contribution.html"><i class="fa fa-check"></i><b>5.3</b> Author Contribution</a></li>
<li class="chapter" data-level="5.4" data-path="5.4-making-your-data-publicly-available.html"><a href="5.4-making-your-data-publicly-available.html"><i class="fa fa-check"></i><b>5.4</b> Making Your Data Publicly Available</a></li>
<li class="chapter" data-level="5.5" data-path="5.5-preparing-a-public-github-repository.html"><a href="5.5-preparing-a-public-github-repository.html"><i class="fa fa-check"></i><b>5.5</b> Preparing a Public GitHub Repository</a>
<ul>
<li class="chapter" data-level="5.5.1" data-path="5.5-preparing-a-public-github-repository.html"><a href="5.5-preparing-a-public-github-repository.html#documentation"><i class="fa fa-check"></i><b>5.5.1</b> Documentation</a></li>
<li class="chapter" data-level="5.5.2" data-path="5.5-preparing-a-public-github-repository.html"><a href="5.5-preparing-a-public-github-repository.html#sanitizing-the-repository"><i class="fa fa-check"></i><b>5.5.2</b> Sanitizing the repository</a></li>
</ul></li>
<li class="chapter" data-level="5.6" data-path="5.6-sharing-public-data-shiny-apps-and-tools-on-our-website.html"><a href="5.6-sharing-public-data-shiny-apps-and-tools-on-our-website.html"><i class="fa fa-check"></i><b>5.6</b> Sharing public data, Shiny apps, and tools on our website</a></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">emLab Standard Operating Procedures</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="accessing-emlab-data-in-r" class="section level2 hasAnchor" number="2.5">
<h2><span class="header-section-number">2.5</span> Accessing emLab data in R<a href="2.5-accessing-emlab-data-in-r.html#accessing-emlab-data-in-r" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>This section will go over how to access data stored in the emLab data directories (either the common emLab data directory, or project-specific data directories) using R. We provide instructions for accessing data using R on your personal local machine, or on one of emLab’s GRIT servers.</p>
<ol style="list-style-type: decimal">
<li><p>Accessing GRIT data on your local machine requires you to use the Nextcloud desktop app and set it up as described in the emLab manual. If you haven’t done so already, please complete that section. The GRIT data storage space has already been linked to our emLab <code>quebracho</code> server (and will eventually be to our forthcoming <code>sequoia</code> server).</p></li>
<li><p>Set the base data directory at the top of your code to the location directory lives. You should be able to use the following code snippet to do this, which should work on either your local machines, or on a GRIT server such as quebracho or sequoia. Note that this code will automatically generate the correct directory path if using a GRIT server or a local Mac or Windows machine. If using a local Linux machine, you will need to manually modify this to incorporate your unique user name so that it matches the directory entered in Step 9 above.</p></li>
</ol>
<pre><code># First determine if system is quebracho or sequoia, our GRIT servers. If so, set directory appropriately
data_directory_base &lt;-  ifelse(Sys.info()[&quot;nodename&quot;] == &quot;quebracho&quot; | Sys.info()[&quot;nodename&quot;] == &quot;sequoia&quot;,
                               &quot;/home/emlab&quot;,
                               # Otherwise, set the directory for local machines based on the OS
                               # If using Mac OS, the directory will be automatically set as follows
                               ifelse(Sys.info()[&quot;sysname&quot;]==&quot;Darwin&quot;,
                                      &quot;/Users/Shared/nextcloud/emLab&quot;,
                               # If using Windows, the directory will be automatically set as follows
                               ifelse(Sys.info()[&quot;sysname&quot;]==&quot;Windows&quot;,
                                      &quot;G:/Shared\ drives/nextcloud/emLab&quot;,
                                      # If using Linux, will need to manually modify the following directory path based on their user name
                                      # Replace your_username with your local machine user name
                                      &quot;/home/your_username/Nextcloud&quot;)))</code></pre>
<p>Now set the project-specific directory. For example:</p>
<pre><code>data_directory_project &lt;- file.path(data_directory_base, &quot;projects/current-projects/test-project-nextcloud/data&quot;)</code></pre>
<p>You should now be able to read and write data into the project data directory. For example:</p>
<pre><code>penguins &lt;- read.csv(file.path(data_directory_project, &quot;raw/penguins.csv&quot;))</code></pre>
<p>Note that you can also always navigate to the data directory in the RStudio viewer pane. To do so, simply click the 3 dots in the viewer pane, and type in the appropriate path.</p>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="2.4-project-data-directory.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="2.6-tidy-data.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="assets/gitbook-2.6.7/js/app.min.js"></script>
<script src="assets/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="assets/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="assets/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="assets/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="assets/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="assets/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="assets/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": null,
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection",
"scroll_highlight": true
},
"toolbar": {
"position": "static"
}
});
});
</script>

</body>

</html>
